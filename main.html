<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>极狐维度 - 隐私协议生成器</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="font.js"></script>
    <style>
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background: url('tingey-injury-law-firm-L4YGuSg0fxs-unsplash.jpg') no-repeat center center fixed;
            background-size: cover;
            background-color: rgba(26, 26, 26, 0.9);
            background-blend-mode: overlay;
            color: #e0e0e0;
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(42, 42, 42, 0.5);
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
        }
        h1 {
            text-align: center;
            color: #00b7ff;
            border-bottom: 2px solid #00b7ff;
            padding-bottom: 10px;
        }
        p {
            text-align: center;
            font-size: 16px;
            color: #b0b0b0;
        }
        .form-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            font-weight: bold;
            margin-bottom: 5px;
            color: #00b7ff;
        }
        input, textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #444;
            border-radius: 5px;
            background-color: #333;
            color: #e0e0e0;
            font-size: 14px;
            box-sizing: border-box;
        }
        textarea {
            height: 100px;
            resize: vertical;
        }
        .button-group {
            display: flex;
            justify-content: center; /* 居中排列 */
            gap: 10px; /* 按钮间距 10px */
            margin-top: 20px;
        }

        button {
            width: 30%;
            padding: 12px;
            background-color: #00b7ff;
            color: #fff;
            border: none;
            border-radius: 15px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s;
            margin: 10px;
        }

        button:hover {
            background-color: #0095d6;
        }
        #result {
            margin-top: 20px;
            padding: 20px;
            background-color: #333;
            border-radius: 5px;
            white-space: pre-wrap;
            display: none;
        }
        .logo {
            display: block;
            margin: 0 auto 20px;
            width: 150px;
            height: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <img src="logo.png" alt="极狐维度Logo" class="logo">
        <h1>极狐维度</h1>
        <p>隐私协议生成器</p>
        <p>输入信息，快速生成符合中国境内法律法规的隐私协议！</p>
        <div class="form-group">
            <label for="company">运营商名称（公司名称）</label>
            <input type="text" id="company" placeholder="请输入运营商名称（公司名称）">
        </div>
        <div class="form-group">
            <label for="name">服务名称 or 产品名称</label>
            <input type="text" id="name" placeholder="请输入你的用户名">
        </div>
        <div class="form-group">
            <label for="service">服务类型</label>
            <input type="text" id="service" placeholder="例如：电子商务">
        </div>
        <div class="form-group">
            <label for="data">收集的数据类型</label>
            <textarea id="data" placeholder="例如：姓名、邮箱、浏览记录"></textarea>
        </div>
        <div class="form-group">
            <label for="purpose">数据使用目的</label>
            <textarea id="purpose" placeholder="例如：提供个性化服务、改进用户体验"></textarea>
        </div>
        <div class="form-group">
            <label for="contact">邮箱</label>
            <input type="text" id="contact" placeholder="例如：email@example.com">
        </div>
        <div class="form-group">
            <label for="twoc">电话</label>
            <input type="text" id="twoc" placeholder="例如：+86 187********">
        </div>
        <button onclick="generatePolicy()">生成隐私协议</button>
        <button onclick="copyPolicy()">复制协议</button>
        <button onclick="downloadPDF()">下载PDF</button>
        <div id="result"></div>
    </div>
    <script>
        let policyText = '';

        function generatePolicy() {
            const company = document.getElementById('company').value || '运营商名称（公司名称）';
            const name = document.getElementById('name').value || '用户';
            const service = document.getElementById('service').value || '极狐维度';
            const data = document.getElementById('data').value || '未指定';
            const purpose = document.getElementById('purpose').value || '未指定';
            const contact = document.getElementById('contact').value || '未指定';
            const tel = document.getElementById('twoc').value || '未指定'

            policyText = `隐私协议 - ${service}

生效日期：${new Date().toLocaleDateString('zh-CN', { year: 'numeric', month: '2-digit', day: '2-digit' }).replace(/\//g, '年').replace(/\//g, '月')}日

1. 引言
欢迎使用 ${name}（以下简称“本服务”）！我们致力于保护您的个人信息安全，并依据《中华人民共和国个人信息保护法》（以下简称“PIPL”）、《网络安全法》（CSL）及相关法律法规制定本隐私协议（以下简称“本协议”）。本协议详细说明我们如何收集、使用、存储、保护及处理您的个人信息，请您在使用本服务前仔细阅读并确认同意。

2. 数据处理者信息
服务类型：${service}
运营商：${company}
联系方式：${contact}
如您对本协议有任何疑问或需要行使您的权利，可通过上述联系方式与我们沟通。

3. 收集的个人信息
在使用本服务时，我们可能收集以下个人信息：
- ${data}
- 自动收集信息：包括设备信息（设备型号、操作系统）、网络信息（IP地址、访问时间）、使用行为（点击记录、页面停留时间）。
我们承诺仅收集实现服务功能所必需的个人信息，并依法取得您的同意。对于敏感个人信息（如身份证号、健康信息），我们将在收集前明确告知并取得您的单独同意。

4. 个人信息的使用目的
我们收集上述信息的目的包括：
- ${purpose}
- 其他目的：
  - 提供和维护本服务的基本功能；
  - 分析服务使用情况以优化功能；
  - 履行法律法规要求的义务（如记录保存、网络安全审查）。
如需将您的个人信息用于其他目的，我们会提前告知并再次征得您的同意。

5. 个人信息的存储与保护
存储地点：您的个人信息将存储在中华人民共和国境内的服务器上。
存储期限：我们仅在实现使用目的所需的期限内存储您的信息，除非法律法规另有要求（例如，《网络安全法》要求日志保存不少于6个月）。
保护措施：我们采取以下措施保护您的信息安全：
- 技术措施：数据加密、访问控制、防火墙；
- 管理措施：内部权限管理、员工保密培训、定期安全审计。
若发生个人信息安全事件，我们将按照《网络安全法》第42条规定及时通知您，并向相关监管机构报告。

6. 用户权利
根据《中华人民共和国个人信息保护法》（PIPL），您享有以下权利：
- 查阅权：查看我们持有的您的个人信息；
- 更正权：纠正不准确或不完整的个人信息；
- 删除权：在符合法律条件（如信息不再必要）时请求删除；
- 撤回同意：随时撤回对个人信息处理的同意（不影响之前处理的合法性）；
- 获取副本：获取您的个人信息副本；
- 限制处理：在特定情况下要求限制信息处理。
如需行使上述权利，请通过第2条中的联系方式与我们联系。我们将在15个工作日内响应您的请求（或按法律法规规定的其他期限）。

7. 敏感个人信息的处理
若涉及敏感个人信息（如健康、财务、生物识别信息），我们将：
- 明确告知收集目的和影响；
- 取得您的单独同意；
- 采取更严格的保护措施（如加密存储、分级授权）。

8. 第三方分享
我们不会将您的个人信息分享给第三方，除非：
- 取得您的单独同意；
- 法律法规要求；
- 为履行合同或保护您的生命财产安全所必需。
如需委托第三方处理信息，我们将签订保密协议并监督其合规性。

9. 未成年人保护
本服务不面向18岁以下未成年人。若您为未成年人，请在监护人同意下使用。我们将采取特别措施保护未成年人个人信息。

10. 跨境数据传输
若您的个人信息需传输至境外，我们将：
- 提前告知您并取得单独同意；
- 按照《个人信息出境安全评估办法》等法规进行安全评估；
- 确保接收方符合PIPL的保护标准。

11. 法律适用与争议解决
本协议适用《中华人民共和国个人信息保护法》及相关法律法规。如发生争议，双方应协商解决；协商不成的，提交${service}所在地有管辖权的人民法院处理。

12. 协议更新
我们可能不时更新本协议，更新版本将在发布后7日前通过本服务公告或电子邮件通知您。重大变更（如新增处理目的）将再次征得您的同意。

13. 联系我们
如有任何问题或投诉，请通过以下方式联系我们：
- 邮箱：${contact}
- 电话：${tel}

感谢您的信任！`;

            const resultDiv = document.getElementById('result');
            resultDiv.textContent = policyText;
            resultDiv.style.display = 'block';
        }

        function copyPolicy() {
            if (!policyText) {
                alert('请先生成隐私协议！');
                return;
            }
            navigator.clipboard.writeText(policyText).then(() => {
                alert('已复制到剪贴板！');
            }).catch(() => {
                alert('复制失败，请手动复制！');
            });
        }
        function downloadPDF() {
            if (!policyText) {
                alert('请先生成隐私协议！');
                return;
            }
            try {
                const { jsPDF } = window.jspdf;
                if (!jsPDF) {
                    throw new Error('jsPDF 未加载');
                }
                const doc = new jsPDF();

                // 使用 font.js 中的 fontBase64
                doc.addFileToVFS('NotoSansSC-VariableFont_wght.ttf', fontBase64);
                doc.addFont('NotoSansSC-VariableFont_wght.ttf', 'NotoSansSC', 'normal');
                doc.setFont('NotoSansSC');

                doc.setFontSize(12);
                const splitText = doc.splitTextToSize(policyText, 180);
                doc.text(splitText, 15, 15);
                doc.save('隐私协议.pdf');
            } catch (error) {
                console.error('PDF 生成失败：', error);
                alert('PDF 生成失败，请检查控制台');
            }
        }

    </script>
</body>
</html>